<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tết Trung Thu Cùng Loopy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            overflow-x: hidden;
            background: linear-gradient(to bottom, #0a1128 0%, #1a2947 50%, #2d4373 100%);
            min-height: 100vh;
        }

        /* Moon */
        .moon {
            position: fixed;
            top: 10%;
            right: 15%;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle at 30% 30%, #fff9e6, #ffd700);
            border-radius: 50%;
            box-shadow: 0 0 80px rgba(255, 215, 0, 0.8),
                        0 0 120px rgba(255, 215, 0, 0.5);
            animation: moonGlow 3s ease-in-out infinite;
            z-index: 1;
        }

        @keyframes moonGlow {
            0%, 100% { box-shadow: 0 0 80px rgba(255, 215, 0, 0.8), 0 0 120px rgba(255, 215, 0, 0.5); }
            50% { box-shadow: 0 0 100px rgba(255, 215, 0, 1), 0 0 150px rgba(255, 215, 0, 0.7); }
        }

        /* Stars */
        .star {
            position: fixed;
            background: white;
            border-radius: 50%;
            animation: twinkle 2s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }

        @keyframes float {
            0% { transform: translateY(0px) translateX(0px); }
            50% { transform: translateY(-20px) translateX(10px); }
            100% { transform: translateY(0px) translateX(0px); }
        }

        @keyframes float-up {
            0% {
                transform: translateY(0) translateX(0) scale(0.8);
                opacity: 1;
            }
            100% {
                transform: translateY(-120vh) translateX(var(--sway, 0px)) scale(1.2);
                opacity: 0;
            }
        }

        .font-pacifico {
            font-family: 'Pacifico', cursive;
        }

        /* Container */
        .container {
            position: relative;
            z-index: 10;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 40px 20px;
            animation: fadeInDown 1s ease-out;
        }

        .header h1 {
            font-size: 3em;
            color: #ffd700;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.8),
                         0 0 40px rgba(255, 215, 0, 0.5);
            margin-bottom: 10px;
            animation: glow 2s ease-in-out infinite;
            font-family: 'Pacifico', cursive;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 0 0 40px rgba(255, 215, 0, 0.5); }
            50% { text-shadow: 0 0 30px rgba(255, 215, 0, 1), 0 0 60px rgba(255, 215, 0, 0.8); }
        }

        .header p {
            font-size: 1.3em;
            color: #fff;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Loopy Container */
        .loopy-container {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 20px;
            margin: 50px 0;
            position: relative;
            flex-wrap: wrap;
        }

        .loopy {
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease;
            animation: float 4s ease-in-out infinite;
        }

        .loopy:nth-child(1) { animation-delay: 0s; }
        .loopy:nth-child(2) { animation-delay: 0.5s; }
        .loopy:nth-child(3) { animation-delay: 1s; }
        .loopy:nth-child(4) { animation-delay: 1.5s; }
        .loopy:nth-child(5) { animation-delay: 2s; }
        .loopy:nth-child(6) { animation-delay: 2.5s; }
        .loopy:nth-child(7) { animation-delay: 3s; }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .loopy:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .loopy-image {
            width: 180px;
            height: 180px;
            background: linear-gradient(135deg, #ff9fc4 0%, #ff6b9d 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.5);
            position: relative;
            overflow: hidden;
        }

        .loopy:nth-child(4) .loopy-image {
            width: 250px;
            height: 250px;
        }

        .loopy-name {
            font-size: 1.2em;
            color: #ffd700;
            font-weight: bold;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            font-family: 'Pacifico', cursive;
            margin-top: 10px;
        }

        /* Loopy Face */
        .loopy-face {
            position: relative;
            width: 80%;
            height: 80%;
        }

        .ear {
            position: absolute;
            width: 30px;
            height: 40px;
            background: #ffb3d1;
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            top: 5%;
        }

        .ear.left { left: 10%; transform: rotate(-20deg); }
        .ear.right { right: 10%; transform: rotate(20deg); }

        .face {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 10%;
        }

        .eye {
            position: absolute;
            width: 15px;
            height: 15px;
            background: #333;
            border-radius: 50%;
            top: 35%;
            animation: blink 3s infinite;
        }

        .eye.left { left: 30%; }
        .eye.right { right: 30%; }

        @keyframes blink {
            0%, 48%, 52%, 100% { height: 15px; }
            50% { height: 2px; }
        }

        .nose {
            position: absolute;
            width: 12px;
            height: 10px;
            background: #ff1744;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translateX(-50%);
        }

        .mouth {
            position: absolute;
            width: 30px;
            height: 15px;
            border: 3px solid #ff1744;
            border-top: none;
            border-radius: 0 0 50% 50%;
            top: 58%;
            left: 50%;
            transform: translateX(-50%);
        }

        .belly {
            position: absolute;
            width: 60%;
            height: 40%;
            background: white;
            border-radius: 50%;
            bottom: 15%;
            left: 50%;
            transform: translateX(-50%);
        }

        .loopy-name {
            font-size: 1.2em;
            color: #ffd700;
            font-weight: bold;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }



        /* Lanterns */
        .lantern {
            position: fixed;
            width: 50px;
            height: 70px;
            z-index: 5;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .lantern:hover {
            transform: scale(1.2);
        }

        .lantern-body {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .lantern-top {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 35px;
            height: 15px;
            background: linear-gradient(135deg, #ffeb3b, #ffc107);
            border-radius: 50% 50% 0 0;
            box-shadow: 0 2px 8px rgba(255, 193, 7, 0.6);
        }

        .lantern-middle {
            position: absolute;
            top: 12px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 45px;
            background: linear-gradient(135deg, var(--lantern-main-color1), var(--lantern-main-color2));
            border-radius: 8px;
            box-shadow: 0 0 25px var(--lantern-glow),
                        inset 0 0 15px rgba(255, 255, 255, 0.3);
            overflow: hidden;
        }

        .lantern-pattern {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .lantern-pattern::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.4) 0%, transparent 70%);
            border-radius: 50%;
        }

        .lantern-pattern::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.6) 0%, transparent 70%);
            border-radius: 50%;
        }

        .lantern-bottom {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 35px;
            height: 15px;
            background: linear-gradient(135deg, #ffeb3b, #ffc107);
            border-radius: 0 0 50% 50%;
            box-shadow: 0 2px 8px rgba(255, 193, 7, 0.6);
        }

        .lantern-tassel {
            position: absolute;
            bottom: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 15px;
            background: linear-gradient(to bottom, #ffd700, #ff6b6b);
            animation: tassel-swing 2s ease-in-out infinite;
        }

        .lantern-tassel::after {
            content: '🔸';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
        }

        @keyframes tassel-swing {
            0%, 100% { transform: translateX(-50%) rotate(-5deg); }
            50% { transform: translateX(-50%) rotate(5deg); }
        }

        #lantern1 { 
            top: 15%; 
            left: 8%; 
            animation: swing 3s ease-in-out infinite, moveLantern1 20s ease-in-out infinite;
            --lantern-main-color1: #ff6b6b;
            --lantern-main-color2: #ff0000;
            --lantern-glow: rgba(255, 107, 107, 0.8);
        }
        
        #lantern2 { 
            top: 25%; 
            right: 12%; 
            animation: swing 3.5s ease-in-out infinite 0.5s, moveLantern2 25s ease-in-out infinite;
            --lantern-main-color1: #ffd93d;
            --lantern-main-color2: #ff8c00;
            --lantern-glow: rgba(255, 217, 61, 0.8);
        }
        
        #lantern3 { 
            top: 40%; 
            left: 15%; 
            animation: swing 2.8s ease-in-out infinite 1s, moveLantern3 22s ease-in-out infinite;
            --lantern-main-color1: #a29bfe;
            --lantern-main-color2: #6c5ce7;
            --lantern-glow: rgba(162, 155, 254, 0.8);
        }
        
        #lantern4 { 
            top: 50%; 
            right: 8%; 
            animation: swing 3.2s ease-in-out infinite 1.5s, moveLantern4 28s ease-in-out infinite;
            --lantern-main-color1: #fd79a8;
            --lantern-main-color2: #e84393;
            --lantern-glow: rgba(253, 121, 168, 0.8);
        }
        
        #lantern5 { 
            top: 65%; 
            left: 10%; 
            animation: swing 3.3s ease-in-out infinite 2s, moveLantern5 24s ease-in-out infinite;
            --lantern-main-color1: #74b9ff;
            --lantern-main-color2: #0984e3;
            --lantern-glow: rgba(116, 185, 255, 0.8);
        }

        @keyframes swing {
            0%, 100% { transform: rotate(-5deg); }
            50% { transform: rotate(5deg); }
        }

        @keyframes moveLantern1 {
            0%, 100% { top: 15%; left: 8%; }
            25% { top: 20%; left: 15%; }
            50% { top: 18%; left: 12%; }
            75% { top: 22%; left: 10%; }
        }

        @keyframes moveLantern2 {
            0%, 100% { top: 25%; right: 12%; }
            25% { top: 30%; right: 18%; }
            50% { top: 28%; right: 15%; }
            75% { top: 32%; right: 10%; }
        }

        @keyframes moveLantern3 {
            0%, 100% { top: 40%; left: 15%; }
            25% { top: 45%; left: 20%; }
            50% { top: 43%; left: 18%; }
            75% { top: 47%; left: 12%; }
        }

        @keyframes moveLantern4 {
            0%, 100% { top: 50%; right: 8%; }
            25% { top: 55%; right: 15%; }
            50% { top: 53%; right: 12%; }
            75% { top: 57%; right: 10%; }
        }

        @keyframes moveLantern5 {
            0%, 100% { top: 65%; left: 10%; }
            25% { top: 70%; left: 15%; }
            50% { top: 68%; left: 13%; }
            75% { top: 72%; left: 8%; }
        }

        /* Floating elements */
        .floating-element {
            position: fixed;
            pointer-events: none;
            z-index: 100;
        }

        /* Sky lanterns */
        .sky-lantern {
            position: fixed;
            width: 60px;
            height: 80px;
            z-index: 50;
            pointer-events: none;
            animation: float-up 8s ease-out forwards;
        }

        .sky-lantern-body {
            width: 100%;
            height: 70%;
            background: linear-gradient(135deg, var(--lantern-color1), var(--lantern-color2));
            border-radius: 10px 10px 40% 40%;
            position: relative;
            box-shadow: 0 0 30px var(--lantern-glow);
        }

        .sky-lantern-top {
            width: 80%;
            height: 15px;
            background: #ffeb3b;
            border-radius: 50% 50% 0 0;
            position: absolute;
            top: -10px;
            left: 10%;
        }

        .sky-lantern-flame {
            width: 20px;
            height: 30px;
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
        }

        .sky-lantern-flame::before {
            content: '🔥';
            font-size: 20px;
            position: absolute;
            animation: flicker 0.3s ease-in-out infinite;
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }

        /* Release button */
        .release-button {
            display: block;
            margin: 30px auto;
            padding: 20px 50px;
            font-size: 1.3em;
            font-weight: bold;
            color: #fff;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5);
            transition: all 0.3s ease;
            font-family: 'Pacifico', cursive;
            animation: pulse 2s ease-in-out infinite;
        }

        .release-button:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.7);
        }

        /* Wish Button */
        .wish-button {
            display: block;
            margin: 50px auto;
            padding: 20px 50px;
            font-size: 1.3em;
            font-weight: bold;
            color: #fff;
            background: linear-gradient(135deg, #ff6b9d, #ff1744);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(255, 23, 68, 0.5);
            transition: all 0.3s ease;
            animation: pulse 2s ease-in-out infinite;
            font-family: 'Pacifico', cursive;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .wish-button:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(255, 23, 68, 0.7);
        }

        /* Fireworks */
        .firework {
            position: fixed;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--x), var(--y)) scale(0);
                opacity: 0;
            }
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 500px;
            animation: modalPop 0.5s ease-out;
        }

        @keyframes modalPop {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .modal-content h2 {
            color: #ffd700;
            font-size: 2em;
            margin-bottom: 20px;
            font-family: 'Pacifico', cursive;
        }

        .modal-content p {
            color: #fff;
            font-size: 1.2em;
            line-height: 1.8;
        }

        .close-modal {
            margin-top: 30px;
            padding: 15px 40px;
            font-size: 1.1em;
            background: #ff6b9d;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Pacifico', cursive;
        }

        .close-modal:hover {
            background: #ff1744;
            transform: scale(1.05);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header h1 { font-size: 2em; }
            .loopy-container { flex-direction: column; align-items: center; }
            .loopy-image { width: 150px; height: 150px; }
            .loopy:nth-child(2) .loopy-image { width: 180px; height: 180px; }
            .moon { width: 100px; height: 100px; top: 5%; right: 10%; }
        }
    </style>
</head>
<body>
    <!-- Moon -->
    <div class="moon"></div>

    <!-- Lanterns -->
    <div class="lantern" id="lantern1" onclick="createFireworksAt(event.clientX, event.clientY)">
        <div class="lantern-body">
            <div class="lantern-top"></div>
            <div class="lantern-middle">
                <div class="lantern-pattern"></div>
            </div>
            <div class="lantern-bottom"></div>
            <div class="lantern-tassel"></div>
        </div>
    </div>
    <div class="lantern" id="lantern2" onclick="createFireworksAt(event.clientX, event.clientY)">
        <div class="lantern-body">
            <div class="lantern-top"></div>
            <div class="lantern-middle">
                <div class="lantern-pattern"></div>
            </div>
            <div class="lantern-bottom"></div>
            <div class="lantern-tassel"></div>
        </div>
    </div>
    <div class="lantern" id="lantern3" onclick="createFireworksAt(event.clientX, event.clientY)">
        <div class="lantern-body">
            <div class="lantern-top"></div>
            <div class="lantern-middle">
                <div class="lantern-pattern"></div>
            </div>
            <div class="lantern-bottom"></div>
            <div class="lantern-tassel"></div>
        </div>
    </div>
    <div class="lantern" id="lantern4" onclick="createFireworksAt(event.clientX, event.clientY)">
        <div class="lantern-body">
            <div class="lantern-top"></div>
            <div class="lantern-middle">
                <div class="lantern-pattern"></div>
            </div>
            <div class="lantern-bottom"></div>
            <div class="lantern-tassel"></div>
        </div>
    </div>
    <div class="lantern" id="lantern5" onclick="createFireworksAt(event.clientX, event.clientY)">
        <div class="lantern-body">
            <div class="lantern-top"></div>
            <div class="lantern-middle">
                <div class="lantern-pattern"></div>
            </div>
            <div class="lantern-bottom"></div>
            <div class="lantern-tassel"></div>
        </div>
    </div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1> Trung Thu Vui Vẻ </h1>
            <p>Cùng Loopy đón trăng rằm thật rộn ràng!</p>
        </div>

        <!-- Loopy Characters -->
        <div class="loopy-container">
            <div class="loopy" onclick="playSound('loopy1')">
                <div class="loopy-image">
                    <div class="loopy-face">
                        <div class="ear left"></div>
                        <div class="ear right"></div>
                        <div class="face">
                            <div class="eye left"></div>
                            <div class="eye right"></div>
                            <div class="nose"></div>
                            <div class="mouth"></div>
                        </div>
                        <div class="belly"></div>
                    </div>
                </div>
                <div class="loopy-name">Nhunn</div>
            </div>

            <div class="loopy" onclick="playSound('loopy2')">
                <div class="loopy-image">
                    <div class="loopy-face">
                        <div class="ear left"></div>
                        <div class="ear right"></div>
                        <div class="face">
                            <div class="eye left"></div>
                            <div class="eye right"></div>
                            <div class="nose"></div>
                            <div class="mouth"></div>
                        </div>
                        <div class="belly"></div>
                    </div>
                </div>
                <div class="loopy-name">Dunn</div>
            </div>

            <div class="loopy" onclick="playSound('loopy3')">
                <div class="loopy-image">
                    <div class="loopy-face">
                        <div class="ear left"></div>
                        <div class="ear right"></div>
                        <div class="face">
                            <div class="eye left"></div>
                            <div class="eye right"></div>
                            <div class="nose"></div>
                            <div class="mouth"></div>
                        </div>
                        <div class="belly"></div>
                    </div>
                </div>
                <div class="loopy-name">Ngọc Annh</div>
            </div>

            <div class="loopy" onclick="playSound('loopy4')">
                <div class="loopy-image">
                    <div class="loopy-face">
                        <div class="ear left"></div>
                        <div class="ear right"></div>
                        <div class="face">
                            <div class="eye left"></div>
                            <div class="eye right"></div>
                            <div class="nose"></div>
                            <div class="mouth"></div>
                        </div>
                        <div class="belly"></div>
                    </div>
                </div>
                <div class="loopy-name">Changg</div>
            </div>
        </div>



        <!-- Wish Button -->
        <button class="release-button" onclick="releaseSkyLanterns()">🏮 Thả Đèn Trời 🏮</button>
        <button class="wish-button" onclick="makeWish()">✨ Ấn vào đây có bất ngờ từ Dzu ✨</button>
    </div>

    <!-- Modal -->
    <div class="modal" id="wishModal">
        <div class="modal-content">
            <h2>🌕 Lời Chúc Trung Thu 🌕</h2>
            <p>Dù không còn là một đứa trẻ, mong Dzu, Nhunn, Dunn, Nanh, Chang vẫn cho mình nghỉ ngơi chút xíu. Deadline để sau, nay đi ngắm đèn, ngắm trăng, làm con nít một bữa đi!!! Trung Thu vui vẻ nha! Và ước tuần nào Dzu cũng được đi chơi với Nhunn :vv</p>
            <p style="margin-top: 20px;">💖 Loopy yêu quý gửi tặng! 💖</p>
            <button class="close-modal" onclick="closeModal()">Cảm Ơn Loopy</button>
        </div>
    </div>

    <script>
        // Create stars
        function createStars() {
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 3 + 'px';
                star.style.height = star.style.width;
                star.style.top = Math.random() * 100 + '%';
                star.style.left = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(star);
            }
        }

        createStars();

        // Auto fireworks every 5 seconds
        setInterval(() => {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight * 0.6;
            createFireworksAt(x, y);
        }, 5000);

        // Play sound (visual feedback)
        function playSound(loopy) {
            const messages = {
                'loopy1': 'Hello, Nhunn đây, Loopy đẹp quá! 🌸',
                'loopy2': 'Dunn chúc mọi người Trung Thu vui vẻ! 🎑',
                'loopy3': 'Ngọc Annh yêu quý mọi người! 💕',
                'loopy4': 'Changg - Tôi không bể kèo nữa! ✨'
            };
            const msg = messages[loopy] || 'Trung Thu vui vẻ nhé! 🎑';
            
            // Create floating hearts/stars
            createFloatingElements(event);
            
            alert(msg);
        }

        // Create floating elements on click
        function createFloatingElements(e) {
            const emojis = ['❤️', '💕', '⭐', '✨', '🌙', '🌕'];
            const count = 10;
            
            for (let i = 0; i < count; i++) {
                const element = document.createElement('div');
                element.className = 'floating-element';
                element.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                element.style.fontSize = (20 + Math.random() * 20) + 'px';
                element.style.left = (e ? e.clientX : Math.random() * window.innerWidth) + 'px';
                element.style.top = (e ? e.clientY : window.innerHeight) + 'px';
                element.style.animation = `float-up ${3 + Math.random() * 2}s ease-out forwards`;
                element.style.animationDelay = (Math.random() * 0.5) + 's';
                
                document.body.appendChild(element);
                
                setTimeout(() => element.remove(), 5000);
            }
        }

        // Release sky lanterns
        function releaseSkyLanterns() {
            const lanternColors = [
                { color1: '#ff6b6b', color2: '#ff0000', glow: 'rgba(255, 107, 107, 0.8)' },
                { color1: '#ffd93d', color2: '#ff8c00', glow: 'rgba(255, 217, 61, 0.8)' },
                { color1: '#6bcf7f', color2: '#00b894', glow: 'rgba(107, 207, 127, 0.8)' },
                { color1: '#a29bfe', color2: '#6c5ce7', glow: 'rgba(162, 155, 254, 0.8)' },
                { color1: '#fd79a8', color2: '#e84393', glow: 'rgba(253, 121, 168, 0.8)' },
                { color1: '#74b9ff', color2: '#0984e3', glow: 'rgba(116, 185, 255, 0.8)' },
            ];

            const count = 8;
            
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const lantern = document.createElement('div');
                    lantern.className = 'sky-lantern';
                    
                    const colorScheme = lanternColors[Math.floor(Math.random() * lanternColors.length)];
                    lantern.style.setProperty('--lantern-color1', colorScheme.color1);
                    lantern.style.setProperty('--lantern-color2', colorScheme.color2);
                    lantern.style.setProperty('--lantern-glow', colorScheme.glow);
                    
                    const startX = 20 + Math.random() * 60; // 20% to 80% of screen width
                    lantern.style.left = startX + '%';
                    lantern.style.bottom = '-100px';
                    
                    const duration = 8 + Math.random() * 4;
                    lantern.style.animationDuration = duration + 's';
                    
                    const sway = -30 + Math.random() * 60;
                    lantern.style.setProperty('--sway', sway + 'px');
                    
                    lantern.innerHTML = `
                        <div class="sky-lantern-top"></div>
                        <div class="sky-lantern-body"></div>
                        <div class="sky-lantern-flame"></div>
                    `;
                    
                    document.body.appendChild(lantern);
                    
                    setTimeout(() => lantern.remove(), duration * 1000 + 1000);
                }, i * 400);
            }
        }

        // Show wish modal
        function makeWish() {
            document.getElementById('wishModal').style.display = 'flex';
            createFireworks();
        }

        function closeModal() {
            document.getElementById('wishModal').style.display = 'none';
        }

        // Fireworks effect
        function createFireworksAt(centerX, centerY) {
            const colors = ['#ff6b9d', '#ffd700', '#ff6b6b', '#4ecdc4', '#95e1d3', '#a8e6cf', '#ffd3b6'];
            
            for (let j = 0; j < 40; j++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = centerX + 'px';
                firework.style.top = centerY + 'px';
                firework.style.background = colors[Math.floor(Math.random() * colors.length)];
                
                const angle = (Math.PI * 2 * j) / 40;
                const velocity = 80 + Math.random() * 120;
                const x = Math.cos(angle) * velocity;
                const y = Math.sin(angle) * velocity;
                
                firework.style.setProperty('--x', x + 'px');
                firework.style.setProperty('--y', y + 'px');
                
                document.body.appendChild(firework);
                
                setTimeout(() => firework.remove(), 1000);
            }
        }

        function createFireworks() {
            const colors = ['#ff6b9d', '#ffd700', '#ff6b6b', '#4ecdc4', '#95e1d3'];
            
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const centerX = Math.random() * window.innerWidth;
                    const centerY = Math.random() * window.innerHeight * 0.5;
                    createFireworksAt(centerX, centerY);
                }, i * 300);
            }
        }

        // Close modal on outside click
        window.onclick = function(event) {
            const modal = document.getElementById('wishModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html>